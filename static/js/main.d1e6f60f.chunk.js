(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t){},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(67),i=a.n(r),c=(a(77),a(71)),o=a(3),l=a(4),m=a(6),u=a(5),p=a(7),h=a(68),d=a.n(h),g=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("li",{className:this.props.user?"message right appeared":"message left appeared"},n.a.createElement("div",{className:"avatar"}),n.a.createElement("div",{className:"text_wrapper"},n.a.createElement("div",{className:"text"},n.a.createElement("b",null,this.props.message.userName),n.a.createElement("br",null),this.props.message.message)))}}]),t}(n.a.Component),v=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("ul",{className:"messages"},this.props.messages.map(function(t){return n.a.createElement(g,{key:t.id,user:t.userName===e.props.user.name,message:t})}))}}]),t}(n.a.Component),f=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"checkEnter",value:function(e){console.log(e),13===e.keyCode&&this.props.sendMessage(this.refs.messageInput)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:""},n.a.createElement("div",{className:"bottom_wrapper"},n.a.createElement("div",{className:"message_input_wrapper"},n.a.createElement("input",{ref:"messageInput",type:"text",className:"message_input",placeholder:"Type your message here",onKeyUp:this.checkEnter.bind(this)})),n.a.createElement("div",{className:"send_message",onClick:function(){return e.props.sendMessage(e.refs.messageInput)},ref:"inputMessage"},n.a.createElement("div",{className:"icon"}),n.a.createElement("div",{className:"text"},"Send"))))}}]),t}(n.a.Component),E=a(69),b=a.n(E),k=a(70),y=a.n(k),N=(a(191),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={messages:[],user:{id:"",name:""},userOnline:[]},a.socket=null,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log(this.state.user),this.socket=y()("https://roomchat123.herokuapp.com/"),this.socket.on("newMessage",function(t){e.newMessage(t)}),this.socket.on("loginFail",function(e){alert("T\xean \u0111\xe3 c\xf3 ng\u01b0\u1eddi s\u1eed d\u1ee5ng")}),this.socket.on("loginSuccess",function(t){e.setState({user:{id:e.socket.id,name:t}})}),this.socket.on("updateUesrList",function(t){e.setState({userOnline:t})})}},{key:"newMessage",value:function(e){var t=this.state.messages,a=b()(t,"id"),s=Math.max.apply(Math,Object(c.a)(a));t.push({id:s+1,userId:e.user.id,message:e.data,userName:e.user.name});var n=d()(".messages");n[0].scrollHeight-n[0].scrollTop===n[0].clientHeight?(this.setState({messages:t}),n.animate({scrollTop:n.prop("scrollHeight")},300)):(this.setState({messages:t}),e.id===this.state.user&&n.animate({scrollTop:n.prop("scrollHeight")},300))}},{key:"sendnewMessage",value:function(e){e.value&&(this.socket.emit("newMessage",{data:e.value,user:this.state.user}),e.value="")}},{key:"login",value:function(){this.socket.emit("login",this.refs.name.value)}},{key:"render",value:function(){return n.a.createElement("div",{className:"app__content"},n.a.createElement("h1",{className:"big-title"},"chat box"),this.state.user.id&&this.state.user.name?n.a.createElement("div",{className:"chat_window"},n.a.createElement("div",{className:"menu"},n.a.createElement("ul",{className:"user"},n.a.createElement("span",{className:"user-name"},this.state.user.name),n.a.createElement("p",null,"Online"),this.state.userOnline.map(function(e){return n.a.createElement("li",{key:e.id},n.a.createElement("span",null,e.name))}))),n.a.createElement("div",{className:"content"},n.a.createElement(v,{user:this.state.user,messages:this.state.messages,typing:this.state.typing}),n.a.createElement(f,{sendMessage:this.sendnewMessage.bind(this)}))):n.a.createElement("div",{className:"login_form"},n.a.createElement("input",{type:"text",name:"name",ref:"name",className:"login-form",placeholder:"Enter your name to join our chat room"}),n.a.createElement("input",{type:"button",name:"",value:"Login",onClick:this.login.bind(this),className:"login-btn"})))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,a){e.exports=a(192)},77:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.d1e6f60f.chunk.js.map